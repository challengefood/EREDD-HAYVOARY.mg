:root{
  --green:#1f7a3e;
  --green-dark:#14562c;
  --yellow:#ffd54f;
  --bg:#f4f7f6;
  --text:#1e2b2f;
  --muted:#5f6b70;
  --card:#ffffff;
  --danger:#d64545;
  --shadow:0 12px 30px rgba(0,0,0,.12);
  --radius:20px;
}

*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Nunito",sans-serif;
  color:var(--text);
  background:var(--bg);
  min-height:100vh;
  overflow-x:hidden;
}

.bg-shape,.bg-shape.bg2{
  position:fixed;inset:auto auto -180px -180px;
  width:420px;height:420px;border-radius:50%;
  background:radial-gradient(circle,var(--yellow),transparent 65%);
  opacity:.25;filter:blur(6px);pointer-events:none;z-index:-1;
}
.bg-shape.bg2{
  inset:-160px -120px auto auto;
  background:radial-gradient(circle,#7bcf9a,transparent 65%);
}

.app-shell{
  width:min(1180px,95%);
  margin:18px auto 30px;
}

.topbar{
  background:rgba(255,255,255,.88);
  border:1px solid rgba(255,255,255,.7);
  backdrop-filter:blur(8px);
  border-radius:24px;
  box-shadow:var(--shadow);
  padding:14px 16px;
  display:flex;align-items:center;justify-content:space-between;gap:10px;
}

.brand{display:flex;align-items:center;gap:10px}
.brand img{
  width:56px;height:56px;object-fit:cover;border-radius:12px;border:2px solid #e5efe8;
}
.brand h1{
  font-family:"Baloo 2",sans-serif;
  font-size:1.4rem;line-height:1;
}
.brand p{color:var(--muted);font-size:.9rem}

.pill{
  background:var(--green);color:#fff;border:none;border-radius:999px;
  padding:8px 14px;font-weight:800;cursor:pointer;
}

.main-nav{
  margin-top:14px;
  display:flex;flex-wrap:wrap;gap:10px;
}
.nav-btn{
  border:none;background:#fff;border-radius:14px;
  padding:10px 14px;font-weight:800;cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
}
.nav-btn.active{background:var(--green);color:#fff}
.pulse-main{
  animation:pulse 1.6s infinite;
}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(31,122,62,.4)}
  70%{box-shadow:0 0 0 14px rgba(31,122,62,0)}
  100%{box-shadow:0 0 0 0 rgba(31,122,62,0)}
}

.pages{margin-top:16px}
.page{display:none}
.page.visible{display:block;animation:fadeIn .35s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:22px;
}

h2,h3{
  font-family:"Baloo 2",sans-serif;
  color:var(--green-dark);
}
p{color:var(--muted);margin-top:6px}

.register-card{max-width:720px;margin:0 auto}
.register-form{
  margin-top:16px;
  display:grid;gap:12px;
}
.register-form label span{
  display:block;font-weight:700;margin-bottom:6px;
}
input,textarea{
  width:100%;
  padding:11px 12px;border:2px solid #dce7df;border-radius:12px;
  font:inherit;
}

.btn{
  border:none;background:var(--green);color:#fff;
  border-radius:14px;padding:10px 16px;font-weight:800;cursor:pointer;
}
.btn:hover{filter:brightness(1.05)}
.btn.secondary{
  background:#fff;color:var(--green-dark);border:2px solid #dce7df;
}
.btn.big{padding:12px 18px;font-size:1.02rem}

.hero{
  display:grid;grid-template-columns:1.1fr 1fr;gap:16px;align-items:center;
}
.hero-right img{
  width:100%;border-radius:16px;max-height:380px;object-fit:cover;
}
.hero-actions{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}

.chapter-grid{
  margin-top:14px;
  display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;
}
.chapter-card{
  border:2px solid #e3ece5;border-radius:16px;padding:14px;background:#fbfdfb;
}
.chapter-card h4{font-family:"Baloo 2",sans-serif;color:var(--green-dark)}
.chapter-card p{margin:.35rem 0 .7rem}
.chapter-card .tag{
  display:inline-block;background:#eaf5ee;color:var(--green-dark);
  border-radius:999px;padding:4px 10px;font-size:.84rem;font-weight:800;
}
.chapter-card.done{border-color:#8dd6a8;background:#f0fbf4}

.quiz-main-card{padding:20px}
.quiz-head p{margin-top:4px}
.progress-wrap{
  margin-top:10px;height:14px;background:#e5efe8;border-radius:999px;overflow:hidden;
}
.progress-bar{
  height:100%;width:0;background:linear-gradient(90deg,var(--green),#4ab36f);
  transition:width .3s ease;
}

.step-box{
  margin-top:16px;
  border:2px solid #e2ece5;
  border-radius:16px;
  padding:16px;
}
.hidden{display:none !important}

.lesson-content{
  margin-top:10px;
  line-height:1.65;
  color:#2f3a3e;
  white-space:pre-line;
  background:#f8fbf9;
  border-radius:12px;
  padding:12px;
}

#questionText{font-size:1.18rem}
.likert-note{font-weight:700;color:#4f5b60}

.likert-grid{
  margin-top:12px;
  display:grid;
  grid-template-columns:repeat(5,minmax(0,1fr));
  gap:10px;
}
.likert-btn{
  border:2px solid #dce7df;background:#fff;border-radius:12px;
  padding:10px 8px;cursor:pointer;font-weight:800;min-height:72px;
}
.likert-btn small{display:block;font-weight:700;color:#5c686d}
.likert-btn.active{
  background:var(--green);color:#fff;border-color:var(--green);
}
.quiz-actions{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}

.result-card{text-align:center}
.score-ring{
  width:200px;height:200px;margin:16px auto;position:relative;
}
.score-ring svg{width:100%;height:100%;transform:rotate(-90deg)}
.ring-bg{fill:none;stroke:#e3ece6;stroke-width:10}
.ring-fg{fill:none;stroke:#2d9c5a;stroke-width:10;stroke-linecap:round;stroke-dasharray:327;stroke-dashoffset:327;transition:stroke-dashoffset .7s ease}
.score-center{
  position:absolute;inset:0;display:grid;place-content:center;
}
.score-center strong{font-size:2rem;color:var(--green-dark)}
.badge-box{
  margin:14px auto 0;
  max-width:520px;
  padding:16px;border-radius:16px;
  background:linear-gradient(135deg,#fff8dc,#ffec9c);
  border:2px dashed #d2a800;
}
.badge-box h3{font-size:1.5rem}
.result-actions{margin-top:12px;display:flex;justify-content:center;gap:10px;flex-wrap:wrap}

.gallery-grid{
  margin-top:10px;
  display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;
}
.gallery-grid img{
  width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:12px;box-shadow:var(--shadow);
}

@media (max-width:980px){
  .hero{grid-template-columns:1fr}
  .chapter-grid{grid-template-columns:1fr}
  .likert-grid{grid-template-columns:1fr 1fr}
}
@media (max-width:620px){
  .likert-grid{grid-template-columns:1fr}
}
